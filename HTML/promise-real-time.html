<!DOCTYPE html>
<html>

<head>
    <title>Promise</title>
</head>

<body>
    <h1 align="center">Promise Real Time Example</h1>
    <script>
        function getUsers(userId) {
            return new Promise((resolve, reject) => {
                console.log("Get The User Details");
                setTimeout(() => {
                    resolve({
                        userId: userId,
                        username: "joe"
                    })
                }, 2000)
            })
        }
        function getService(user) {
            return new Promise((resolve, reject) => {
                console.log("Get The User Service");
                setTimeout(() => {
                    resolve(['A', 'B', 'C', 'D', 'E'])
                }, 2000)
            })
        }
        function getServiceCost(services) {
            return new Promise((resolve, reject) => {
                console.log("Get User Service Cost");
                setTimeout(() => {
                    resolve(services.length * 300)
                }, 2000)
            })
        }
        getUsers(101)
            .then(getService)
            .then(getServiceCost)
            .then(res => { console.log(`The cost of all service is ${res}`) })
            .catch(err => console.log(err))
    </script>
</body>

</html>