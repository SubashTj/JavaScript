<!DOCTYPE html>
<html>

<head>
    <title>Promise</title>
</head>

<body>
    <h1 align="center">Promise Async-Await Real Time Example</h1>
    <script>
        function getUsers(userId) {
            return new Promise((resolve, reject) => {
                console.log("Get The User Details");
                setTimeout(() => {
                    resolve({
                        userId: userId,
                        username: "joe"
                    })
                }, 2000)
            })
        }
        function getService(user) {
            return new Promise((resolve, reject) => {
                console.log("Get The User Service");
                setTimeout(() => {
                    resolve(['A', 'B', 'C', 'D', 'E'])
                }, 2000)
            })
        }
        function getServiceCost(services) {
            return new Promise((resolve, reject) => {
                console.log("Get User Service Cost");
                setTimeout(() => {
                    resolve(services.length * 300)
                }, 2000)
            })
        }
        async function ShowServiceCost() {
            try {
                let user = await getUsers(101);
                let services = await getService(user);
                let cost = await getServiceCost(services);
                console.log(`The Service Cost Is ${cost}`)
            } catch (error) {
                console.log(error);
            }
        }
        ShowServiceCost();
    </script>
</body>

</html>